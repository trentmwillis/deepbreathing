<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Deep Breathing</title>

    <link href="https://fonts.googleapis.com/css?family=Nunito:200&display=swap" rel="stylesheet">
    <link href="./deepbreathing.css" rel="stylesheet">
    <link href="./animations.css" rel="stylesheet">
  </head>

  <body>
    <header class="titlebar">
      <h1 class="title">Deep Breathing</h1>
    </header>

    <main class="stage">
      <div class="animatron"></div>
    </main>

    <footer class="control-panel">
      <img class="control-panel_decoration decoration" src="./curve.svg" aria-hidden="true">

      <ul class="controls">
        <li>
          <button class="control is-active" type="button" data-animation="fourSevenEight" data-duration="20">
            <span class="control_text">4/7/8 Full</span>
          </button>
        </li>

        <li>
          <button class="control" type="button" data-animation="fourSevenEight" data-duration="10">
            <span class="control_text">4/7/8 Half</span>
          </button>
        </li>

        <li>
          <button class="control" type="button" data-animation="equal" data-duration="8">
            <span class="control_text">Equal</span>
          </button>
        </li>
      </ul>
    </footer>


    <script>
      const animatron = document.querySelector('.animatron');
      animatron.style.setProperty('--animation', 'fourSevenEight');
      animatron.style.setProperty('--duration', '20s');

      document.querySelector('.control-panel').addEventListener('click', (event) => {
        const { target } = event;
        const control = target.closest('.control');
        if (control) {
          document.querySelector('.control.is-active').classList.remove('is-active');
          control.classList.add('is-active');
        }
      });
    </script>
  </body>
</html>
